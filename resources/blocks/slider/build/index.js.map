{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../block-helper.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["Fragment","wp","element","components","Button","Placeholder","editor","MediaUpload","MediaUploadCheck","LbwpBlockHelper","getImageUpload","url","onsave","onremove","description","button","change","remove","open","length","marginRight","getGalleryUpload","ids","urls","images","forEach","push","registerBlockType","blocks","title","icon","category","attributes","imageIds","type","default","imageUrls","edit","props","onChangeGallerySelection","setAttributes","map","image","id","sizes","medium","large","full","thumbnail","className","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const { Fragment } = wp.element;\nconst { Button, Placeholder } = wp.components;\nconst { MediaUpload, MediaUploadCheck } = wp.editor;\n\n/**\n * Main Block Helper Library\n * @author Michael Sebel <michael@comotive.ch>\n */\nconst LbwpBlockHelper = {\n\n  /**\n   * Basic image upload component\n   * @param url the image url to be displayed\n   * @param onsave a saving callback\n   * @param onremove a removing callback\n   * @param description the text displayed above the button\n   * @param button the text displayed in the button\n   * @param change the text when the button can change the image\n   * @param remove the text when the image can be removed\n   * @returns {*}\n   */\n  getImageUpload : function(url, onsave, onremove, description, button, change, remove) {\n    return (\n      <MediaUploadCheck>\n        <MediaUpload\n          onSelect={onsave}\n          render={({open}) => {\n            if (url.length > 0) {\n              // Elements in state where something is selected\n              return (\n                <Fragment>\n                  <div>\n                    <img src={url} />\n                  </div>\n                  <Button onClick={open} style={{ marginRight : '10px'}} isLarge isDefault>\n                    {change}\n                  </Button>\n                  <Button onClick={onremove} isLink isDestructive>\n                    {remove}\n                  </Button>\n                </Fragment>\n              )\n            }\n\n            // Elements in initial placeholder state\n            return (\n              <Fragment>\n                <Placeholder icon=\"format-image\" label={description}>\n                  <Button onClick={open} isLarge isDefault>\n                    {button}\n                  </Button>\n                </Placeholder>\n              </Fragment>\n            );\n          }}\n        />\n      </MediaUploadCheck>\n    )\n  },\n\n  /**\n   * Basic image upload component\n   * @param ids the image ids\n   * @param urls the image urls\n   * @param onsave a saving callback\n   * @param description the text displayed above the button\n   * @param button the text displayed in the button to open the gallery\n   * @param change the text displayed in the button to edit the gallery\n   * @returns {*}\n   */\n  getGalleryUpload : function(ids, urls, onsave, description, button, change) {\n    // Suggest empty string if empty array (as empty array or '0' trigger a gallery with all images, bug of gutenberg as of 14.10)\n    if (ids.length == 0) ids = '';\n    return (\n      <MediaUploadCheck>\n        <MediaUpload\n          onSelect={onsave}\n          multiple=\"true\"\n          gallery=\"true\"\n          value={ids}\n          render={({open}) => {\n            if (ids.length > 0 && urls.length > 0) {\n              // Build the array of images\n              let images = [];\n              urls.forEach(function(url) {\n                images.push(<li><img src={url} /></li>);\n              });\n              // Elements in state where something is selected\n              return (\n                <Fragment>\n                  <ul className=\"gallery-list\">{images}</ul>\n                  <Button onClick={open} isLarge isDefault>{change}</Button>\n                </Fragment>\n              );\n            }\n            // Elements in initial placeholder state\n            return (\n              <Fragment>\n                <Placeholder icon=\"format-image\" label={description}>\n                  <Button onClick={open} isLarge isDefault>\n                    {button}\n                  </Button>\n                </Placeholder>\n              </Fragment>\n            );\n          }}\n        />\n      </MediaUploadCheck>\n    )\n  }\n};\n\nexport {LbwpBlockHelper};","const { registerBlockType } = wp.blocks;\nimport {LbwpBlockHelper} from \"../../block-helper\";\n\nregisterBlockType('lbwp/slider', {\n  title: 'Slider-Galerie',\n  icon: 'format-gallery',\n  category: 'common',\n  attributes: {\n    imageIds: {\n      type: 'array',\n      default : []\n    },\n    imageUrls: {\n      type: 'array',\n      default : []\n    },\n  },\n  edit: props => {\n    const onChangeGallerySelection = images => {\n      setAttributes({\n        imageIds : images.map(image => image.id),\n        imageUrls : images.map(function(image) {\n          if (typeof(image.sizes.medium) !== 'undefined') {\n            return image.sizes.medium.url;\n          } else if (typeof(image.sizes.large) !== 'undefined') {\n            return image.sizes.large.url;\n          }else if (typeof(image.sizes.full) !== 'undefined') {\n            return image.sizes.full.url;\n          } else {\n            return image.sizes.thumbnail.url;\n          }\n        })\n      });\n    };\n\n    const { attributes, className, setAttributes } = props;\n\n    return (\n      <div className={className}>\n        {LbwpBlockHelper.getGalleryUpload(\n          attributes.imageIds,\n          attributes.imageUrls,\n          onChangeGallerySelection,\n          'Wählen Sie in der Mediathek die Bilder für Ihre Galerie aus.',\n          'Mediathek öffnen',\n          'Galerie bearbeiten'\n        )}\n      </div>\n    );\n  },\n  save: props => null,\n});\n\n\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}